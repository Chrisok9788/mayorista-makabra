<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <!-- ✅ FIX iOS: viewport-fit=cover -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />

    <meta
      property="og:title"
      content="Mayorista Makabra - Catálogo para revendedores"
    />
    <meta
      property="og:description"
      content="Catálogo online mayorista con pedido por WhatsApp."
    />
    <meta property="og:image" content="/logo.png" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://chrisok9788.github.io/mayorista-makabra/"
    />

    <meta
      name="description"
      content="Mayorista Makabra: catálogo para revendedores en Uruguay con pedido por WhatsApp."
    />

    <title>Mayorista Makabra | Catálogo Mayorista en Uruguay</title>
    <link rel="icon" type="image/png" href="/logo.png" />
    <link rel="stylesheet" href="./style.css" />

    <!-- Vercel Web Analytics -->
    <script>
      window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
  </head>

  <body>
    <header class="site-header">
      <div class="container header-row">
        <a class="brand" href="#home" aria-label="Ir al inicio">
          <img
            src="/logo.png"
            class="brand-logo"
            alt="Mayorista Makabra logo"
          />
          <div class="brand-text">
            <div class="brand-title">Mayorista Makabra</div>
            <div class="brand-subtitle">
              Catálogo mayorista • Pedidos por WhatsApp
            </div>
          </div>
        </a>

        <nav class="main-nav">
          <a href="#catalogue">Catálogo</a>
          <a href="#contact">Contacto</a>
        </nav>
      </div>
    </header>
    <div
      id="catalog-status"
      class="catalog-status"
      role="status"
      aria-live="polite"
      hidden
    ></div>

    <main class="site-main" role="main">
      <section id="home"></section>

      <!-- =======================
           CARRUSEL: OFERTAS
           ======================= -->
      <section class="section offers-section" aria-label="Carrusel de ofertas">
        <div class="container">
          <div class="section-title-row">
            <h2>OFERTAS</h2>
            <span class="muted">Solo productos seleccionados</span>
          </div>

          <div class="offers-frame">
            <div id="offers-track" class="offers-track slow"></div>
          </div>
        </div>
      </section>

      <!-- ✅✅✅ FILTROS: AHORA VAN ACÁ (debajo del carrusel de ofertas)
           ✅ NUEVO: id="filters-sticky" para poder scrollear acá con el botón Inicio -->
      <section
        id="filters-sticky"
        class="filters-sticky"
        aria-label="Buscador y filtros"
      >
        <div class="container">
          <div class="filters">
            <input
              type="text"
              id="search-input"
              placeholder="Buscar por nombre, categoría..."
            />

            <select id="category-filter">
              <option value="">Todas las categorías</option>
            </select>

            <select id="subcategory-filter" style="display: none">
              <option value="">Todas las subcategorías</option>
            </select>
          </div>
        </div>
      </section>

      <!-- =======================
           DESTACADOS POR CATEGORÍA
           ======================= -->
      <section
        class="section featured-section"
        aria-label="Destacados por categoría"
      >
        <div class="container">
          <div class="section-title-row">
            <h2>DESTACADOS POR CATEGORÍA</h2>
            <span class="muted">2 productos por cada categoría</span>
          </div>

          <div id="featured-by-category" class="featured-by-category"></div>
        </div>
      </section>

      <!-- CATÁLOGO -->
      <section id="catalogue" class="section">
        <div class="container">
          <div class="section-title-row">
            <h2>Catálogo</h2>
            <span class="muted">Buscá y filtrá por categoría</span>
          </div>

          <aside class="cat-panel">
            <h3 class="cat-title">Categorías</h3>
            <div id="categoryAccordion" class="accordion"></div>
          </aside>

          <div id="categoriesGrid" class="categories-grid"></div>
          <div id="products-container" class="products-grid"></div>
        </div>
      </section>

      <!-- CARRITO -->
      <section id="cart" class="section section-soft">
        <div class="container">
          <div class="section-title-row">
            <h2>Carrito</h2>
            <span class="muted">Total y envío por WhatsApp</span>
          </div>

          <div id="cart-container" class="cart-items"></div>

          <div class="cart-summary">
            <div class="total-line">
              <span>Total:</span>
              <strong id="cart-total">$ 0</strong>
            </div>

            <div class="cart-actions">
              <button id="clear-cart-btn" class="btn" type="button">
                Vaciar carrito
              </button>

              <button
                id="send-whatsapp-btn"
                class="btn btn-primary"
                type="button"
              >
                Enviar pedido por WhatsApp
              </button>

              <a
                id="send-whatsapp-link"
                href="https://wa.me/59896405927"
                style="display: none"
                rel="noopener"
              ></a>
            </div>

            <div class="muted small">
              Nota: si un producto tiene precio 0, se enviará como “Consultar”.
            </div>
          </div>
        </div>
      </section>

      <!-- CONTACTO -->
      <section id="contact" class="section section-soft">
        <div class="container">
          <div class="section-title-row">
            <h2>Contacto</h2>
            <span class="muted">Respondemos por WhatsApp</span>
          </div>

          <div class="contact-card">
            <div class="contact-item">
              <strong>WhatsApp</strong>
              <a href="https://wa.me/59896405927" rel="noopener">
                +598 096 405 927
              </a>
            </div>

            <div class="contact-item">
              <strong>Instagram</strong>
              <a
                href="https://instagram.com/distribuidoramakabra"
                target="_blank"
                rel="noopener"
              >
                @distribuidoramakabra
              </a>
            </div>

            <div class="contact-item">
              <strong>Horarios</strong>
              <span>Lunes a sábados de 9:00 a 19:00</span>
            </div>

            <div class="contact-item">
              <strong>Dirección</strong>
              <a
                href="https://maps.app.goo.gl/vduLYftxkBn8bdVo6?g_st=ic"
                target="_blank"
                rel="noopener"
              >
                Luis Batlle Berres 5849
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- BOTONES FLOTANTES -->
      <div class="float-actions" aria-label="Accesos rápidos">
        <!-- ✅ NUEVO: Botón Inicio (sube a buscador/filtros) -->
        <a href="#filters-sticky" class="top-float" aria-label="Ir al buscador">
          ⬆︎ Inicio
        </a>

        <a href="#cart" class="cart-float" aria-label="Carrito">
          Carrito
          <span class="cart-badge">
            <span id="cart-count">0</span>
          </span>
        </a>

        <a
          href="https://wa.me/59896405927"
          class="whatsapp-float whatsapp-icon"
          target="_blank"
          rel="noopener"
          aria-label="WhatsApp"
        >
          WhatsApp
        </a>
      </div>

      <footer class="site-footer">
        <div class="container">
          <p>
            &copy; <span id="year"></span> Mayorista Makabra. Todos los derechos
            reservados.
          </p>
        </div>
      </footer>
    </main>

    <script>
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>

    <!-- Vercel Speed Insights -->
    <script>
      window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/speed-insights/script.js"></script>

    <script type="module" src="./app.js"></script>
  </body>
</html>
